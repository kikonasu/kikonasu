<!--
  TRIGGER: trip_upcoming_week
  WHEN: 7 days before trip start date
  FREQUENCY: Once per trip
  SUBJECT: "{{tripName}} is 1 week away! Time to plan your outfits"
  PREVIEW: "Let's make sure you're packed and styled for {{destination}}"
-->

<!-- Hero Image -->
<tr>
  <td class="hero-section" style="padding: 0;">
    <img src="{{heroImageUrl}}" alt="Travel destination" class="hero-image" style="width: 100%; height: auto; display: block; max-height: 200px; object-fit: cover;">
  </td>
</tr>

<!-- Main Content -->
<tr>
  <td class="content-section" style="padding: 32px 24px;">

    <!-- Greeting -->
    <h1 class="greeting" style="font-size: 24px; font-weight: 600; color: #1a1a1a; margin: 0 0 16px 0;">
      Hey {{userName}}! Your trip is coming up
    </h1>

    <p class="body-text" style="font-size: 16px; line-height: 1.6; color: #4a4a4a; margin: 0 0 24px 0;">
      <strong>{{tripName}}</strong> to <strong>{{destination}}</strong> is just <strong>7 days away</strong>! Now's the perfect time to plan your outfits so you can travel stress-free.
    </p>

    <!-- Trip Details Box -->
    <div class="highlight-box" style="background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%); border-radius: 12px; padding: 20px; margin: 24px 0; border-left: 4px solid #8B5CF6;">
      <p class="highlight-title" style="font-size: 14px; font-weight: 600; color: #7c3aed; text-transform: uppercase; letter-spacing: 0.5px; margin: 0 0 8px 0;">Trip Details</p>
      <table role="presentation" style="width: 100%; border: none; border-spacing: 0;">
        <tr>
          <td style="padding: 4px 0; color: #4a4a4a; font-size: 15px;">
            <strong>Dates:</strong> {{tripStartDate}} - {{tripEndDate}}
          </td>
        </tr>
        <tr>
          <td style="padding: 4px 0; color: #4a4a4a; font-size: 15px;">
            <strong>Duration:</strong> {{tripDuration}} days
          </td>
        </tr>
        <tr>
          <td style="padding: 4px 0; color: #4a4a4a; font-size: 15px;">
            <strong>Activities:</strong> {{tripTypes}}
          </td>
        </tr>
      </table>
    </div>

    <!-- Weather Preview -->
    <div class="weather-widget" style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); border-radius: 12px; padding: 16px 20px; margin: 24px 0;">
      <table role="presentation" style="width: 100%; border: none; border-spacing: 0;">
        <tr>
          <td style="width: 60px; vertical-align: middle;">
            <span style="font-size: 40px;">{{weatherIcon}}</span>
          </td>
          <td style="vertical-align: middle; padding-left: 16px;">
            <p style="font-size: 28px; font-weight: 700; color: #0369a1; margin: 0;">{{temperatureRange}}</p>
            <p style="font-size: 14px; color: #0284c7; margin: 4px 0 0 0;">Expected weather in {{destination}}</p>
          </td>
        </tr>
      </table>
    </div>

    <!-- Planning Progress -->
    <p class="body-text" style="font-size: 16px; line-height: 1.6; color: #4a4a4a; margin: 0 0 16px 0;">
      <strong>Your packing progress:</strong>
    </p>

    <table role="presentation" style="width: 100%; border: none; border-spacing: 0; margin-bottom: 24px;">
      <tr>
        <td style="padding: 8px 0;">
          <table role="presentation" style="width: 100%; border: none; border-spacing: 0;">
            <tr>
              <td style="background-color: #e5e7eb; border-radius: 8px; padding: 0; height: 8px;">
                <div style="background: linear-gradient(135deg, #8B5CF6 0%, #A855F7 100%); border-radius: 8px; height: 8px; width: {{planningProgress}}%;"></div>
              </td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td style="padding-top: 8px; font-size: 14px; color: #6b7280;">
          {{plannedDays}} of {{tripDuration}} days planned
        </td>
      </tr>
    </table>

    <!-- What to do -->
    <p class="body-text" style="font-size: 16px; line-height: 1.6; color: #4a4a4a; margin: 0 0 8px 0;">
      <strong>Here's what we suggest:</strong>
    </p>
    <table role="presentation" style="width: 100%; border: none; border-spacing: 0; margin-bottom: 24px;">
      <tr>
        <td style="padding: 8px 0; font-size: 15px; color: #4a4a4a;">
          <span style="color: #8B5CF6; font-weight: bold; margin-right: 8px;">1.</span> Review the weather forecast for your trip dates
        </td>
      </tr>
      <tr>
        <td style="padding: 8px 0; font-size: 15px; color: #4a4a4a;">
          <span style="color: #8B5CF6; font-weight: bold; margin-right: 8px;">2.</span> Plan outfits for each day based on activities
        </td>
      </tr>
      <tr>
        <td style="padding: 8px 0; font-size: 15px; color: #4a4a4a;">
          <span style="color: #8B5CF6; font-weight: bold; margin-right: 8px;">3.</span> Check if you need to add any items to your wishlist
        </td>
      </tr>
    </table>

    <!-- CTA -->
    <table role="presentation" style="width: 100%; border: none; border-spacing: 0;">
      <tr>
        <td align="center" style="padding: 8px 0;">
          <a href="{{appUrl}}/suitcase/{{suitcaseId}}" class="cta-button" style="display: inline-block; background: linear-gradient(135deg, #8B5CF6 0%, #A855F7 100%); color: #ffffff; font-size: 16px; font-weight: 600; padding: 16px 32px; border-radius: 12px; text-decoration: none;">
            Plan My Trip Outfits
          </a>
        </td>
      </tr>
    </table>

  </td>
</tr>
